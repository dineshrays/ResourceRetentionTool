@model RetentionTool.ViewModel.EmployeeInfoViewModel
@{
    ViewBag.Title = "PersonalInfoCreate";
    Layout = "~/Views/Shared/_LayoutMain.cshtml";
}


<div class="card">
    <div class="card-header">
        <h2>PersonalInfoCreate</h2>
    </div>


    <script src="~/Scripts/assets/js/vendor/jquery-3.3.1.js"></script>
    <script src="~/Scripts/assets/js/vendor/jquery-3.3.1.min.js"></script>

    <div class="card-body card-block">
        <div class="row form-group ">
            <div class="col col-md-3">
                <div>@Html.LabelFor(m => m.PersonalInfoVm.EmpCode, new { @class = "form-control-label" })</div>
            </div>
            <div class="col-6 col-md-9">
                <div>@Html.TextBoxFor(m => m.PersonalInfoVm.EmpCode, new { @id = "EmpCode", @class = "form-control", style = "width:40%" })</div><br />
            </div>
        </div>

        <div class="row form-group">
            <div class="col col-md-3">
                <div>@Html.LabelFor(m => m.PersonalInfoVm.Name, new { @class = "form-control-label" })</div>
            </div>
            <div class="col-12 col-md-9">
                <div>@Html.TextBoxFor(m => m.PersonalInfoVm.Name, new { @id = "Name", @class = "form-control", style = "width:40%" })</div><br />
            </div>
        </div>

        <div class="row form-group">
            <div class="col col-md-3">
                <div>@Html.LabelFor(m => m.PersonalInfoVm.FatherName, new { @class = "form-control-label" })</div>
            </div>
            <div class="col-12 col-md-9">
                <div>@Html.TextBoxFor(m => m.PersonalInfoVm.FatherName, new { @id = "FName", @class = "form-control", style = "width:40%" })</div><br />
            </div>
        </div>

        <div class="row form-group">
            <div class="col col-md-3">
                <div>@Html.LabelFor(m => m.PersonalInfoVm.DOB, new { @class = "form-control-label" })</div>
            </div>
            <div class="col-12 col-md-9">
                <div>@Html.EditorFor(m => m.PersonalInfoVm.DOB, new { htmlAttributes = new { @id = "DOB", @class = "form-control", style = "width:40%" } })</div><br />
            </div>
        </div>

        <div class="row form-group">
            <div class="col col-md-3">
                <div>@Html.LabelFor(m => m.PersonalInfoVm.Gender, new { @class = "form-control-label" })</div>
            </div>
            <div class="col-12 col-md-9">
                <div>@Html.TextBoxFor(m => m.PersonalInfoVm.Gender, new { @id = "Gender", @class = "form-control", style = "width:40%" })</div><br />

            </div>
        </div>


        <div class="row form-group">
            <div class="col col-md-3">
                <div>@Html.LabelFor(m => m.PersonalInfoVm.PermanentAddress, new { @class = "form-control-label" })</div>
            </div>
            <div class="col-12 col-md-9">
                <div>@Html.TextBoxFor(m => m.PersonalInfoVm.PermanentAddress, new { @id = "PermntAdd", @class = "form-control", style = "width:40%" })</div><br />
            </div>
        </div>

        <div class="row form-group">
            <div class="col col-md-3">
                <div>@Html.LabelFor(m => m.PersonalInfoVm.CommunicationAddress, new { @class = "form-control-label" })</div>
            </div>
            <div class="col-12 col-md-9">
                <div>@Html.TextBoxFor(m => m.PersonalInfoVm.CommunicationAddress, new { @id = "CommAdd", @class = "form-control", style = "width:40%" })</div><br />
            </div>
        </div>


        <div class="row form-group">
            <div class="col col-md-3">
                <div>@Html.LabelFor(m => m.PersonalInfoVm.Contact, new { @class = "form-control-label" })</div>
            </div>
            <div class="col-12 col-md-9">
                <div>@Html.TextBoxFor(m => m.PersonalInfoVm.Contact, new { @id = "Contact", @class = "form-control", style = "width:40%" })</div><br />
            </div>
        </div>

        <div class="row form-group">
            <div class="col col-md-3">
                <div>@Html.LabelFor(m => m.PersonalInfoVm.Qualification, new { @class = "form-control-label" })</div>
            </div>
            <div class="col-12 col-md-9">
                <div>@Html.TextBoxFor(m => m.PersonalInfoVm.Qualification, new { @id = "Qualification", @class = "form-control", style = "width:40%" })</div><br />
            </div>
        </div>

        <div class="row form-group">
            <div class="col col-md-3">
                <div>@Html.LabelFor(m => m.PersonalInfoVm.Email, new { @class = "form-control-label" })</div>
            </div>
            <div class="col-12 col-md-9">
                <div>@Html.TextBoxFor(m => m.PersonalInfoVm.Email, new { @id = "Email", @class = "form-control", style = "width:40%" })</div><br />
            </div>
        </div>

        <div class="row form-group">
            <div class="col col-md-3">
                <div>@Html.LabelFor(m => m.PersonalInfoVm.PanNo, new { @class = "form-control-label" })</div>
            </div>
            <div class="col-12 col-md-9">
                <div>@Html.TextBoxFor(m => m.PersonalInfoVm.PanNo, new { @id = "PanNo", @class = "form-control", style = "width:40%" })</div><br />
            </div>
        </div>

        <div class="row form-group">
            <div class="col col-md-3">
                <div>@Html.LabelFor(m => m.PersonalInfoVm.AadharNo, new { @class = "form-control-label" })</div>
            </div>
            <div class="col-12 col-md-9">
                <div>@Html.TextBoxFor(m => m.PersonalInfoVm.AadharNo, new { @id = "AadharNo", @class = "form-control", style = "width:40%" })</div><br />
            </div>
        </div>

        <div class="row form-group">
            <div class="col col-md-3">
                <div>@Html.LabelFor(m => m.PersonalInfoVm.BloodGroup, new { @class = "form-control-label" })</div>
            </div>
            <div class="col-12 col-md-9">
                <div>@Html.TextBoxFor(m => m.PersonalInfoVm.BloodGroup, new { @id = "BloodGroup", @class = "form-control", style = "width:40%" })</div><br />
            </div>
        </div>


        <input id="btnSave" type="submit" value="Create" class="btn btn-success" />

    </div>

</div>

<script type="text/javascript">
            $(function () {
                $("#btnSave").click(function () {
                    //debugger;
                                       

                    var EmpCode = $("#EmpCode").val();
                    var Name = $("#Name").val();
                    var FName = $("#FName").val();
                    var DOB = $("#DOB").val();
                    var Gender = $("#Gender").val();
                    var PermntAdd = $("#PermntAdd").val();
                    var CommAdd = $("#CommAdd").val();
                    var Contact = $("#Contact").val();
                    var Qualification = $("#Qualification").val();
                    var Email = $("#Email").val();
                    var PanNo = $("#PanNo").val();
                    var AadharNo = $("#AadharNo").val();
                    var BloodGroup = $("#BloodGroup").val();

                    var newUrl = '@Url.Action("Index","EmployeeInfo")';

                    var mod = {
                        EmpCode: EmpCode, Name: Name, FatherName: FName, DOB: DOB, Gender: Gender, PermanentAddress: PermntAdd, CommunicationAddress: CommAdd,
                        Contact: Contact, Qualification: Qualification, Email: Email, PanNo: PanNo, AadharNo: AadharNo, BloodGroup: BloodGroup
                    };
                    alert(mod);
                    $.ajax({
                        url: '@Url.Action("PersonalInfoCreate", "EmployeeInfo")', //
                        dataType: "json",
                        data: JSON.stringify({ pim: mod }),
                        type: "POST",
                        contentType: "application/json; charset=utf-8",
                        success: function (result) {
                            alert("success");
                            $("#EmpCode").val('');
                            $("#Name").val('');
                            $("#FName").val('');
                            $("#DOB").val('');
                            $("Gender").val('');
                            $("PermntAdd").val('');
                            $("CommAdd").val('');
                            $("Contact").val('');
                            $("Qualification").val('');
                            $("Email").val('');
                            $("PanNo").val('');
                            $("AadharNo").val('');
                            $("BloodGroup").val('');
                            window.location.href = newUrl;
                        },
                        error: function (xhr) {
                            alert("error");
                        }
                    });
                });
            });
</script>