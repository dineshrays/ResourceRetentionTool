@model RetentionTool.ViewModel.EmployeeInformationViewModel
@{
    ViewBag.Title = "Edit Employee";
    Layout = "~/Areas/Employee/Views/Shared/_LayoutMain.cshtml";
    //Layout = "~/Views/Shared/_LayoutMain.cshtml";
    var count = 0; var coun = 0; var cou = 0;
}

@*<h2>Edit Employee</h2>*@

<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>jQuery UI Tabs - Default functionality</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        $(function () {
            $("#tabs").tabs();
        });
    </script>
</head>
<body>
    <div class="breadcrumbs">
        <div class="col-sm-6">
            <div class="page-header float-left">
                <div class="page-title">
                    <h1> Edit Employee</h1>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="page-header float-right">
                <div class="page-title">
                    <ol class="breadcrumb text-right" style="background-color:white">
                        <li><a href="@Url.Action("Index", "AdminDashboard")">Dashboard </a></li>
                        <li><a href="@Url.Action("Index", "EmployeeInformation")">Employee Information  </a></li>
                        <li class="active"> Edit </li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    <div id="tabs">
        <ul>
            <li><a href="#tabs-1" rel="tab1">Personal Information</a></li>
            <li><a href="#tabs-2" rel="tab2">Education Qualification</a></li>
            <li><a href="#tabs-3">Experience</a></li>
            <li><a href="#tabs-4">Employee Skills</a></li>
            <li><a href="#tabs-5">Projects Worked</a></li>
            <li><a href="#tabs-6">Current Company</a></li>
        </ul>
        <div id="tabs-1">

            @*<div class="col-lg-6 card-body"  style="margin-top:10px;">*@

            <div class="row form-group ">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.PersonalInfoVm.EmpCode, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-6 col-md-9">
                    <div>@Html.DisplayFor(m => m.PersonalInfoVm.EmpCode, new { @id = "EmpCode", @class = "form-control-label", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.PersonalInfoVm.Name, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.PersonalInfoVm.Name, new { @id = "Name", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.PersonalInfoVm.FatherName, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.PersonalInfoVm.FatherName, new { @id = "FName", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.PersonalInfoVm.DOB, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.EditorFor(m => m.PersonalInfoVm.DOB, new { htmlAttributes = new { @id = "DOB", @class = "form-control", style = "width:40%" } })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.PersonalInfoVm.Gender, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.PersonalInfoVm.Gender, new { @id = "Gender", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>


            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.PersonalInfoVm.PermanentAddress, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.PersonalInfoVm.PermanentAddress, new { @id = "PermntAdd", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.PersonalInfoVm.CommunicationAddress, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.PersonalInfoVm.CommunicationAddress, new { @id = "CommAdd", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>
            @*</div>*@
            @*<div class="col-lg-6 card-body" style="margin-top:10px;">*@

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.PersonalInfoVm.Contact, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.PersonalInfoVm.Contact, new { @id = "Contact", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.PersonalInfoVm.Qualification, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.PersonalInfoVm.Qualification, new { @id = "Qualification", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.PersonalInfoVm.Email, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.PersonalInfoVm.Email, new { @id = "Email", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.PersonalInfoVm.PanNo, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.PersonalInfoVm.PanNo, new { @id = "PanNo", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.PersonalInfoVm.AadharNo, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.PersonalInfoVm.AadharNo, new { @id = "AadharNo", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.PersonalInfoVm.BloodGroup, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.PersonalInfoVm.BloodGroup, new { @id = "BloodGroup", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>
            @*<input type="file" id="uploadEditorImage" enctype="multipart/form-data" />

                   <script>
                $(function () {
                    $("#uploadEditorImage").change(function () {
                        var data = new FormData();
                        var files = $("#uploadEditorImage").get(0).files;
                        if (files.length > 0) {
                            data.append("HelpSectionImages", files[0]);
                        }
                        fileValue = data;
                      //  alert(fileValue);
                        $.ajax({
                            url:"/Employee/EmployeeInformation/Index",
                                //'@Url.Action("Index", "EmployeeInformation")',
                            type: "POST",
                            processData: false,
                            async: false,
                            cache: false,
                            contentType: false,
                            data: data,
                            success: function (response) {
                              //  alert(response.filepath)
                                filepath = response.filepath;
                                //code after success

                            },
                            error: function (er) {
                                alert(er);
                            }

                        });
                    });
                });
                   </script>*@


        </div>

        <div id="tabs-2">
            <div class="row form-group">

                <input class="form-control" style="width:30%" id="Degree" placeholder="Degree" />
                <input id="Board" placeholder="Board" />
                <input id="YearOfPassing" placeholder="Year Of Passing" />
                <input id="Percentage" placeholder="Percentage" />

                <input type="button" value="Add" class="add-quali" />
            </div>

            <table class="table table-striped" id="table-quali" style="width:100%">
                <thead>
                    <tr>
                        <th>Degree</th>
                        <th>Board</th>
                        <th>Year Of Passing</th>
                        <th>Percentage</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var quali in Model.EducationQualification)
                    {
                        count = count + 1;
                        <tr id="@count">
                            @*<td><input type='checkbox' name='chck'></td>*@
                            <td>@quali.Degree</td>
                            <td>@quali.Board</td>
                            <td>@quali.YearOfPassing</td>
                            <td>@quali.Percentage</td>
                            <td><input type="submit" value="Delete" class="btn btn-danger" onclick="delete_Row(@count)"></td>
                        </tr>
                    }

                </tbody>
            </table>
            @*<br />
                <button type="button" class="del-quali">Delete</button>*@

            <script>
                 var count1 = @Model.EducationQualification.Count;
                $(".add-quali").click(function () {

                    var Degree = $("#Degree").val();
                    var Board = $("#Board").val();
                    var YearOfPassing = $("#YearOfPassing").val();
                    var Percentage = $("#Percentage").val();
                    if (Degree.length > 0 && Board.length > 0 && YearOfPassing.length > 0 && Percentage.length > 0) {
                        count1 = count1 + 1;
                        var idvalue = count1;
                        var Qualification = "<tr id=" + idvalue + "><td>" +
                            Degree + "</td><td>" +
                            Board + "</td><td>" +
                            YearOfPassing + "</td><td>" +
                            Percentage + "</td><td><input type='submit' class='btn btn-danger' value='Delete' onclick=delete_Row(" + idvalue + ")></td></tr>";
                        $("#table-quali").append(Qualification);
                        $("#Degree").val('');
                        $("#Board").val('');
                        $("#YearOfPassing").val('');
                        $("#Percentage").val('');
                    }
                    else {
                        alert("Enter all the details");
                    }


                });

                $(".del-quali").click(function () {

                    $("#table-quali").find('input[name="chck"]').each(function () {
                        if ($(this).is(":checked")) {
                            $(this).parents("tr").remove();
                        }
                    });
                });

                function delete_Row(idvalue) {
                    $("#" + idvalue).remove();
                }
            </script>

        </div>

        <div id="tabs-3">

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.ExperienceVm.CompanyName, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.ExperienceVm.CompanyName, new { @id = "CompanyName", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.ExperienceVm.FromDate, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.EditorFor(m => m.ExperienceVm.FromDate, new { htmlAttributes = new { @id = "FromDate", @class = "form-control", style = "width:40%" } })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.ExperienceVm.ToDate, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.EditorFor(m => m.ExperienceVm.ToDate, new { htmlAttributes = new { @id = "ToDate", @class = "form-control", style = "width:40%" } })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.ExperienceVm.Designation, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.ExperienceVm.Designation, new { @id = "Designation", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.ExperienceVm.ProjectWorked, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.ExperienceVm.ProjectWorked, new { @id = "ProjectWorked", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.ExperienceVm.TechnologiesUsed, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.ExperienceVm.TechnologiesUsed, new { @id = "TechnologiesUsed", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>


            <input type="button" value="Add" class="add-exp" />

            <table class="table table-striped" id="table-exp" style="width:100%">
                <thead>
                    <tr>
                        <th> CompanyName</th>
                        <th>FromDate</th>
                        <th>ToDate</th>
                        <th>Designation</th>
                        <th>ProjectWorked</th>
                        <th>TechnologiesUsed</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var exp in Model.Experience)
                    {
                        coun = coun + 1;
                        <tr id="@coun">
                            @*<td><input type='checkbox' name='chck'></td>*@
                            <td>@exp.CompanyName</td>
                            <td>@exp.FromDate</td>
                            <td>@exp.ToDate</td>
                            <td>@exp.Designation</td>
                            <td>@exp.ProjectWorked</td>
                            <td>@exp.TechnologiesUsed</td>
                            <td><input type="submit" value="Delete" class="btn btn-danger" onclick="delete_Ro(@coun)"></td>
                        </tr>
                    }

                </tbody>
            </table>
            @*<br />
                <button type="button" class="del-exp">Delete</button>*@

            <script>
                 var coun1 = @Model.Experience.Count;
                $(".add-exp").click(function () {

                    var CompanyName = $("#CompanyName").val();
                    var FromDate = $("#FromDate").val();
                    var ToDate = $("#ToDate").val();
                    var Designation = $("#Designation").val();
                    var ProjectWorked = $("#ProjectWorked").val();
                    var TechnologiesUsed = $("#TechnologiesUsed").val();

                    if (CompanyName.length > 0 && FromDate.length > 0 && ToDate.length > 0 && Designation.length > 0 && ProjectWorked.length > 0 && TechnologiesUsed.length > 0) {
                        coun1 = coun1 + 1;
                        var idvalu = coun1;
                        var Company = "<tr id=" + idvalu + "><td>" +
                            CompanyName + "</td><td>" +
                            FromDate + "</td><td>" +
                            ToDate + "</td><td>" +
                            Designation + "</td><td>" +
                            ProjectWorked + "</td><td>" +
                            TechnologiesUsed + "</td><td><input type='submit'  value='Delete' onclick=delete_Ro(" + idvalu + ")></td></tr>";

                        $("#table-exp").append(Company);
                        $("#CompanyName").val('');
                        $("#FromDate").val('');
                        $("#ToDate").val('');
                        $("#Designation").val('');
                        $("#ProjectWorked").val('');
                        $("#TechnologiesUsed").val('');
                    }
                    else {
                        alert("Enter all the details");
                    }
                });

                $(".del-exp").click(function () {

                    $("#table-exp").find('input[name="chck"]').each(function () {
                        if ($(this).is(":checked")) {
                            $(this).parents("tr").remove();
                        }
                    });
                });

                function delete_Ro(idvalu) {

                    $("#" + idvalu).remove();
                }

            </script>


        </div>

        <div id="tabs-4">

            <div class="card-body card-block">

                <div class="row form-group">
                    <input class="form-control" style="width:30%" id="searchskill" placeholder="Skills" />&nbsp;
                    <input id="searchid" style="display:none" />
                    <input id="Years" placeholder="Years" />&nbsp;
                    <input id="Months" placeholder="Months" />&nbsp;
                    <input id="Status" placeholder="Status" />&nbsp;
                    <br />
                    <input type="button" value="Add" class="add-skill" />
                </div>

                <div class="tblemp">
                    <table class="table table-striped" id="table-skill" style="width:100%">
                        <thead>
                            <tr>
                                <th> Skills</th>
                                <th style="display:none;width:0%">Skill Id</th>
                                <th>Years</th>
                                <th>Months</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var ski in Model.EmployeeSkills)
                            {
                                cou = cou + 1;
                                <tr id="@cou">
                                    @*<td><input type='checkbox' name='chck'></td>*@
                                    <td>@ski.Skills</td>
                                    <td>@ski.Years</td>
                                    <td>@ski.Months</td>
                                    <td>@ski.Status</td>
                                    <td><input type="submit" class="btn btn-danger" value="Delete" onclick="delete_R(@cou)"></td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                @*<br />
                    <button type="button" class="del-emp">Delete</button>*@

                <script>
                    $(".add-skill").click(function () {

                        var skillname = $("#searchskill").val();

                        var skillid = $("#searchid").val();

                        var Years = $("#Years").val();
                        var Months = $("#Months").val();
                        var Status = $("#Status").val();

                        if (skillname.length > 0 && Years.length > 0 && Months.length & 0 && status.length > 0) {
                            var markup = "<tr id=" + skillid + "><td><input type='checkbox'  name='chck'></td><td>" +
                                skillname + "</td><td style='display: none'>" + skillid + "</td><td>" +
                                Years + "</td><td>" +
                                Months + "</td><td>" +
                                Status + "</td><td><input type='submit' value='Delete' onclick=delete_R(" + skillid + ")></td></tr>";
                            $("#table-skill").append(markup);
                            $("#searchskill").val('');
                            $("#searchid").val('');
                            $("#Years").val('');
                            $("#Months").val('');
                            $("#Status").val('');
                        }
                        else {
                            alert("Enter all the details");
                        }
                    });

                    $(".del-emp").click(function () {

                        $("#table-skill").find('input[name="chck"]').each(function () {
                            if ($(this).is(":checked")) {
                                $(this).parents("tr").remove();
                            }
                        });
                    });

                    function delete_R(empid) {
                        $("#" + empid).remove();
                    }

                </script>


            </div>

            @*<div class="col-12 col-md-9">

                        <input type="submit" value="Create" id="btnSave" class="btn btn-success" />
                        @Html.ActionLink("Back to List", "Index", "EmployeeInfo", null, new { @class = "btn btn-outline-link" })

                    </div>
                </div>*@


            <script src="~/Scripts/jquery-1.10.2.min.js"></script>

            <link rel="Stylesheet" href="http://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.10/themes/redmond/jquery-ui.css" />
            <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>


            <script>
                $(function () {
                    $("#searchskill").autocomplete({
                        source: function (request, response) {
                            var param = { name: $('#searchskill').val() };
                            $.ajax({
                                url: "/EmployeeInfo/getSkills",
                                data: JSON.stringify(param),
                                dataType: "json",
                                type: "POST",
                                contentType: "application/json; charset=utf-8",
                                dataFilter: function (data) { return data; },
                                success: function (data) {
                                    response($.map(data, function (item) {
                                        return { label: item.SkillName, id: item.id }
                                    }))
                                },
                                error: function (XMLHttpRequest, textStatus, errorThrown) {
                                    alert(textStatus);
                                }
                            });
                        },
                        select: function (event, ui) {
                            // prevent autocomplete from updating the textbox
                            event.preventDefault();
                            $(this).val(ui.item.label);
                            $("#searchid").val(ui.item.id);
                            // $("#searchskill").val(ui.item.name);
                        }    //minLength as 2, it means when ever user enter 2 character in TextBox the AutoComplete method will fire and get its source data.
                    });
                });

            </script>


        </div>

        <div id="tabs-5">

            <div class="row form-group ">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.ProjectsWorkedVm.Project_Id, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-6 col-md-9">
                    @Html.DropDownListFor(m => m.ProjectsWorkedVm.Project_Id, ViewData["projectlist"] as SelectList, new { @id = "Project_Id", @class = "form-control", style = "width:40%" })
                </div>
            </div>

            <div class="row form-group ">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.ProjectsWorkedVm.Designation, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-6 col-md-9">
                    <div>@Html.TextBoxFor(m => m.ProjectsWorkedVm.Designation, new { @id = "PwDesignation", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group ">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.ProjectsWorkedVm.Responsibilities, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-6 col-md-9">
                    <div>@Html.TextBoxFor(m => m.ProjectsWorkedVm.Responsibilities, new { @id = "Responsibilities", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group ">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.ProjectsWorkedVm.StartDate, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-6 col-md-9">
                    <div>@Html.EditorFor(m => m.ProjectsWorkedVm.StartDate, new { htmlAttributes = new { @id = "StartDate", @class = "form-control", style = "width:40%" } })</div><br />
                </div>
            </div>

            <div class="row form-group ">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.ProjectsWorkedVm.EndDate, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-6 col-md-9">
                    <div>@Html.EditorFor(m => m.ProjectsWorkedVm.EndDate, new { htmlAttributes = new { @id = "EndDate", @class = "form-control", style = "width:40%" } })</div><br />
                </div>
            </div>

            <div class="row form-group ">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.ProjectsWorkedVm.Description, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-6 col-md-9">
                    <div>@Html.TextBoxFor(m => m.ProjectsWorkedVm.Description, new { @id = "Description", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group ">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.ProjectsWorkedVm.TeamMembers, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-6 col-md-9">
                    <div>@Html.TextBoxFor(m => m.ProjectsWorkedVm.TeamMembers, new { @id = "TeamMembers", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group ">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.ProjectsWorkedVm.Manager_Id, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-6 col-md-9">
                    @Html.DropDownListFor(m => m.ProjectsWorkedVm.Manager_Id, ViewData["managerslist"] as SelectList, new { @id = "Manager_Id", @class = "form-control", style = "width:40%" })
                </div>
            </div>

        </div>

        <div id="tabs-6">

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.Designation, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.CurrentInfoVm.Designation, new { @id = "Designation2", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.DOJ, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.EditorFor(m => m.CurrentInfoVm.DOJ, new { htmlAttributes = new { @id = "DOJ", @class = "form-control", style = "width:40%" } })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.DateOfRelieving, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.EditorFor(m => m.CurrentInfoVm.DateOfRelieving, new { htmlAttributes = new { @id = "DateOfRelieving", @class = "form-control", style = "width:40%" } })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.ReportingManager, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.CurrentInfoVm.ReportingManager, new { @id = "ReportingManager", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.JobType, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.CurrentInfoVm.JobType, new { @id = "JobType", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.DeployedCompanyDetails, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.CurrentInfoVm.DeployedCompanyDetails, new { @id = "DeployedCompanyDetails", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.DeployedFromDate, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.EditorFor(m => m.CurrentInfoVm.DeployedFromDate, new { htmlAttributes = new { @id = "DeployedFromDate", @class = "form-control", style = "width:40%" } })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.DeployedToDate, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.EditorFor(m => m.CurrentInfoVm.DeployedToDate, new { htmlAttributes = new { @id = "DeployedToDate", @class = "form -control", style = "width:40%" } })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.CompanyMailId, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.CurrentInfoVm.CompanyMailId, new { @id = "CompanyMailId", @class = "form -control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.BankName, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.CurrentInfoVm.BankName, new { @id = "BankName", @class = "form -control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.IFSC, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.CurrentInfoVm.IFSC, new { @id = "IFSC", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.ModeOfPayment, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.CurrentInfoVm.ModeOfPayment, new { @id = "ModeOfPayment", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.WorkLocation, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.CurrentInfoVm.WorkLocation, new { @id = "WorkLocation", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.Department, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.CurrentInfoVm.Department, new { @id = "Department", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.Grade, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.CurrentInfoVm.Grade, new { @id = "Grade", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.Salary, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.CurrentInfoVm.Salary, new { @id = "Salary", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <div class="row form-group">
                <div class="col col-md-3">
                    <div>@Html.LabelFor(m => m.CurrentInfoVm.CTC, new { @class = "form-control-label" })</div>
                </div>
                <div class="col-12 col-md-9">
                    <div>@Html.TextBoxFor(m => m.CurrentInfoVm.CTC, new { @id = "CTC", @class = "form-control", style = "width:40%" })</div><br />
                </div>
            </div>

            <input id="btnEdit" type="submit" value="Edit" class="btn btn-success" />

            <script type="text/javascript">
             $(function () {
                 $("#btnEdit").click(function () {

                    var EmpCode = $("#EmpCode").val();
                    var Name = $("#Name").val();
                    var FName = $("#FName").val();
                    var DOB = $("#DOB").val();
                    var Gender = $("#Gender").val();
                    var PermntAdd = $("#PermntAdd").val();
                    var CommAdd = $("#CommAdd").val();
                    var Contact = $("#Contact").val();
                    var Qualification = $("#Qualification").val();
                    var Email = $("#Email").val();
                    var PanNo = $("#PanNo").val();
                    var AadharNo = $("#AadharNo").val();
                    var BloodGroup = $("#BloodGroup").val();

                    var mod = {
                        EmpCode: EmpCode, Name: Name, FatherName: FName, DOB: DOB, Gender: Gender, PermanentAddress: PermntAdd, CommunicationAddress: CommAdd,
                        Contact: Contact, Qualification: Qualification, Email: Email, PanNo: PanNo, AadharNo: AadharNo, BloodGroup: BloodGroup
                    };


                    var itemlist1 = [];

                    $("#table-quali tr:not(:first)").each(function () {
                        var tdlist = $(this).find("td");

                        var Degree = $(tdlist[1]).html();
                        var Board = $(tdlist[2]).html();
                        var YearOfPassing = $(tdlist[3]).html();
                        var Percentage = $(tdlist[4]).html();

                        var mod1 = {
                            Degree: Degree, Board: Board, YearOfPassing: YearOfPassing, Percentage: Percentage
                        };

                        itemlist1.push(mod1);
                        //alert(itemlist);
                    })



                    var itemlist2 = [];

                    $("#table-exp tr:not(:first)").each(function () {
                        var tdlist1 = $(this).find("td");

                        var CompanyName = $(tdlist1[1]).html();
                        var FromDate = $(tdlist1[2]).html();
                        var ToDate = $(tdlist1[3]).html();
                        var Designation1 = $(tdlist1[4]).html();
                        var ProjectWorked = $(tdlist1[5]).html();
                        var TechnologiesUsed = $(tdlist1[6]).html();

                        var mod2 = {CompanyName: CompanyName, FromDate: FromDate, ToDate: ToDate, Designation: Designation1, ProjectWorked: ProjectWorked, TechnologiesUsed: TechnologiesUsed };

                        itemlist2.push(mod2);
                    })


                    var itemlist3 = [];
                    var Common_Id = "3";

                    $("#table-skill tr:not(:first)").each(function () {
                        var tdlist2 = $(this).find("td");

                        var skill_id = $(tdlist2[2]).html();
                        var years = $(tdlist2[3]).html();
                        var months = $(tdlist2[4]).html();
                        var status = $(tdlist2[5]).html();

                        var mod3 = {CommonField_Id: Common_Id, Skills_Id: skill_id, Years: years, Months: months, Status: status };

                        itemlist3.push(mod3);
                    })

                    var Project_Id = $("#Project_Id").val();
                    var PwDesignation = $("#PwDesignation").val();
                    var Responsibilities = $("#Responsibilities").val();
                    var StartDate = $("#StartDate").val();
                    var EndDate = $("#EndDate").val();
                    var Description = $("#Description").val();
                    var TeamMembers = $("#TeamMembers").val();
                    var Manager_Id = $("#Manager_Id").val();

                    var mod4 = {
                        Project_Id: Project_Id, Designation: PwDesignation, Responsibilities: Responsibilities, StartDate: StartDate, EndDate: EndDate, Description: Description
                        , TeamMembers: TeamMembers, Manager_Id: Manager_Id
                    };


                    var Designation = $("#Designation2").val();
                    var DOJ = $("#DOJ").val();
                    var DateOfRelieving = $("#DateOfRelieving").val();
                    var ReportingManager = $("#ReportingManager").val();
                    var JobType = $("#JobType").val();
                    var DeployedCompanyDetails = $("#DeployedCompanyDetails").val();
                    var DeployedFromDate = $("#DeployedFromDate").val();
                    var DeployedToDate = $("#DeployedToDate").val();
                    var CompanyMailId = $("#CompanyMailId").val();
                    var BankName = $("#BankName").val();
                    var IFSC = $("#IFSC").val();
                    var ModeOfPayment = $("#ModeOfPayment").val();
                    var WorkLocation = $("#WorkLocation").val();
                    var Department = $("#Department").val();
                    var Grade = $("#Grade").val();
                    var Salary = $("#Salary").val();
                    var CTC = $("#CTC").val();

                    var mod5 = {
                        Designation: Designation, DOJ: DOJ, DateOfRelieving: DateOfRelieving, ReportingManager: ReportingManager, JobType: JobType,
                        DeployedCompanyDetails: DeployedCompanyDetails, DeployedFromDate: DeployedFromDate, DeployedToDate: DeployedToDate, CompanyMailId: CompanyMailId,
                        BankName: BankName, IFSC: IFSC, ModeOfPayment: ModeOfPayment, WorkLocation: WorkLocation, Department: Department, Grade: Grade, Salary: Salary, CTC: CTC
                    };

                    var data = new FormData();
                    var files = $("#uploadEditorImage").get(0).files;
                  //  alert(files[0]);
                    if (files.length > 0) {
                        data.append("HelpSectionImages", files[0]);
                    }
                    //file
                    //var datavalue = fileValue;
                    //alert(datavalue);

                    $.ajax({

                        url: '/Employee/EmployeeInformation/Create',
                            @*'@Url.Action("Create", "EmployeeInformation")',*@
                        dataType: "json",
                        data: JSON.stringify({path:filepath, personalInfo: mod, eductionQualifi: itemlist1, exper: itemlist2, empSkill: itemlist3, projectWorked: mod4, currentInfo: mod5 }),
                        type: 'POST',
                        //processData: false,
                       // contentType: false,
                        contentType: "application/json; charset=utf-8",
                        success: function (result) {
                            alert("Successfully Added");
                            window.location.href = '@Url.Action("Index", "EmployeeInformation")';
                        },
                        error: function (xhr) {
                            alert("error");
                        }
                    });
                });
              });
            </script>

        </div>
    </div>


</body>
</html>